<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
	
<head th:replace="fragments/pageStructure :: head"></head>
<meta charset="ISO-8859-1" />



<section id="mapContainer" th:fragment="map">

	<div id="mapView"></div>
	

	<div id="mapToolBar"> 
	<button type="button" class="mapToolBarItem" id="mapToolBarItemGroundType">Type de terrain</button>
	<button type="button" class="mapToolBarItem" id="mapToolBarItemBuildings">Bâtiments</button>
	<button type="button" class="mapToolBarItem" id="mapToolBarItemTroops">Troupes</button>
	<button type="button" class="mapToolBarItem" id="mapToolBarItemResources">Ressources</button>
	</div>
	
	<div id="mapToolBarSubMenu"> </div>
	
	<div id = "mapToolBarSubMenu_GroundType" style='display:none'> 
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Grass">Herbe</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Ground">Terre</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Ocean">Océan</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Sand">Sable</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_GrassAll">Herbe (tous)</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_GroundAll">Terre (tous)</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_OceanAll">Océan (tous)</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_SandAll">Sable (tous)</button>
	</div>	
	
	<div id="mapToolBarSubMenu_Buildings"  style='display:none'>  
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Castle">Château</button>
	</div>
	
	<div id="mapToolBarSubMenu_Troops"  style='display:none'>  
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Dragon">Dragon</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Unicorn">Licorne</button>
	</div>
	
	<div id="mapToolBarSubMenu_Resources"  style='display:none'>  
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Flours">Fleurs</button>
	</div>
	
	
	
	  
	<!-- Initialisation variables from html/server to javascript -->
	<script th:inline="javascript">
    	var map = /*[[${map}]]*/ "map";  
    	var unitConfigurations = /*[[${unitConfigurations}]]*/ "unitConfigurations"; 
    	var unitConfigurationPropertyList = /*[[${unitConfigurationPropertyList}]]*/ "unitConfigurationPropertyList"; 
    </script>

<!-- Load  scripts and librairies -->

<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

<script th:attr="data-main=@{/js/config.js}" th:src="@{/js/requirejs/require.js}"></script>
<script > 
require([
    'jsiso/canvas/Control',
    'jsiso/canvas/Input',
    'jsiso/img/load',
    'jsiso/json/load',
    'jsiso/tile/Field',
    'jsiso/particles/Effect',
    'jsiso/particles/EffectLoader',
    'jsiso/particles/Emitter',
    'jsiso/particles/Particle',
    'jsiso/pathfind/pathfind',
    'jsiso/pathfind/worker',
    'jsiso/tile/Camera',
    'jsiso/url/url',
    'jsiso/utils',
    'map/mapTileItem',
    'map/map',
    'requirejs/domReady!'
	  ])
</script> 

</section>