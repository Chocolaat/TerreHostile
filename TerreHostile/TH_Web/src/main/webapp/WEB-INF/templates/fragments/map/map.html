<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
	
<head th:replace="fragments/pageStructure :: head"></head>
<meta charset="ISO-8859-1" />



<section id="mapContainer" th:fragment="map">

	
	<div th:replace="fragments/map/mapView :: div"></div>

	<div id="mapToolBar"> 
	<button type="button" class="mapToolBarItem" onclick="show('mapToolBarSubMenu_groundType')">Type de terrain</button>
	<button type="button" class="mapToolBarItem" onclick="show('mapToolBarSubMenu_Buildings')">Bâtiments</button>
	<button type="button" class="mapToolBarItem"></button>
	</div>
	
	<div id="mapToolBarSubMenu"> </div>
	
	<div id = "mapToolBarSubMenu_groundType" style='display:none'> 
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Grass" onClick="setGroundTypeFocus(0)">Grass</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Ground" onClick="setGroundTypeFocus(1)">Ground</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Ocean" onClick="setGroundTypeFocus(2)">Ocean</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Sand" onClick="setGroundTypeFocus(3)">Sand</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Grass" onClick="setAllGroundType(0)">GrassAll</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Ground" onClick="setAllGroundType(1)">GroundAll</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Ocean" onClick="setAllGroundType(2)">OceanAll</button>
		<button type="button" class="mapToolBarSubMenuItem" id="mapToolBarSubMenuItem_Sand" onClick="setAllGroundType(3)">SandAll</button>
	</div>
	
	
	
	<div id="mapToolBarSubMenu_Buildings"  style='display:none'> Buildings </div>
	
	
	<!-- Scripts for map.html elements -->
	<script> 
	function show(param_div_id) {
	    document.getElementById('mapToolBarSubMenu').innerHTML = document.getElementById(param_div_id).innerHTML;
	  } </script>
	  
	  
	<!-- Initialisation variables from html/server to javascript -->
	<script th:inline="javascript">
    	var map = /*[[${map}]]*/ "map";  
    	var mapJsonView = /*[[${mapJsonView}]]*/ "mapJsonView";  
    </script>

<!-- Load  scripts and librairies -->

<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

<script th:attr="data-main=@{/js/config.js}" th:src="@{/js/requirejs/require.js}"></script>
<script > 
require([
    'jsiso/canvas/Control',
    'jsiso/canvas/Input',
    'jsiso/img/load',
    'jsiso/json/load',
    'jsiso/tile/Field',
    'jsiso/particles/Effect',
    'jsiso/particles/EffectLoader',
    'jsiso/particles/Emitter',
    'jsiso/particles/Particle',
    'jsiso/pathfind/pathfind',
    'jsiso/pathfind/worker',
    'jsiso/tile/Camera',
    'jsiso/url/url',
    'jsiso/utils',
    'map/map',
    'requirejs/domReady!'
	  ])
</script> 

</section>